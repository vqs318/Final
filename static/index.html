<!DOCTYPE HTML>
<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.5/superhero/bootstrap.min.css">
    <link rel="stylesheet" href="static/example-styles.css">
    <link rel="stylesheet" href="static/index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div id="main" class="container">

    <div class="col-md-12">
        <h1>IDE Final Project</h1>
        <h3>Reddit Comment Markov Chains</h3>
        <div class="col-md-12">

            <h3>Background:</h3>
            <h5>The Dataset</h5>
            <p>
                We decided to use the Reddit comment dataset for our final project because we were both reddit users
                and we knew it could provide a variety of data for visualization.
                We became interested in Markov Chains after coming across r/SubredditSimulator.
                Unlike normal subreddits, SubredditSimulator, a subreddit or subforum of redddit is generated by bots
                crawling the various subreddits and creating posts and comments using Markov Chains.
            </p>
            <h5>Markov Chains</h5>
            <p>
                Markov chains represent a sequence of possible events where the probability of the next event only
                depends on the state attained in the previous event. Reddit comments can be modelled as Markov chains as
                we can count the number of times a given word follows any previous word in reddit comments and then
                build this into a tree of comments.
            </p>
            <h5>Markov Chain States</h5>
            <p>
                States in a Markov chain don't necessarily have to be one word. Indeed, in this visualisation, each
                state consists
                of two words. This means that, when we show the words that are most likely to follow a given word (the
                child nodes),
                we are actually counting the number of times that this word has followed the previous <i>two</i> words.
                For example if we have a tree that reads 'the', 'guardian', 'has' while reading down the tree, and the
                occurence of 'has' is 3, that
                means that the two word sequence of 'the' 'guardian' has been followed by 'has' 3 times. The word 'has'
                could have followed 'guardian' many more times in different contexts. The visualisation below does not
                show the number of states in the model, however, but it is key in choosing the child nodes of any node
                in the tree.
            </p>
            <h3>The Project:</h3>
            <p>
                Our project uses comment data of a chosen subreddit to produce a tree structure that indicates
                which words are more likely to follow another word in a sentence.
                The first row of words is the top 10 most likely words to start a sentence within the specified
                subreddit,
                and the following words are the 10 most likely words to occur after that specific word, and so on.
                Hovering over a word will show the weight of the word which is the probability that that word will be
                used.
            </p>
            <h3>Findings</h3>
            <p>
                A few interesting points can be made from the Markov chains below.
            </p>
            <p>
                An obvious thing to note from these trees is that 'I' and the left bracket '[' are by far the most
                common way to begin sentences. That most sentences should begin with 'I' seems
                normal enough, however, and we might expect that on any English site. That '[' should come up so often
                seems mystifying but in fact makes sense,
                as all deleted posts on reddit are marked '[deleted]'. What is most interesting from this information
                is that subreddits vary considerably on whether '[': a deleted post or 'I': a post about oneself is
                more common. Political subreddits like /r/india, /r/unitedkingdom, and /r/news have more deleted
                comments,
                indicating either that the moderators are more judicious, or that users are more likely to take back
                their opinions. In contrast, game and hobby related subreddits like /r/smite, /r/dota2 and /r/formula1
                are less likely
                to be banned, or more likely to talk about themselves.
            </p>
            <p>
                Also of interest is the sentences that can be generated by simply clicking the most common (leftmost)
                node in each
                subtree. /r/pics would say "I'm not sure how it works", maybe indicating that the users of /r/pics
                aren't
                generally the experts on the topic of the thread, because the subreddit's topic is so general.
                Interestingly,
                /r/news would like to begin a sentence with "I'm not saying that the police...", indicating that the
                subreddit contains much debate about policing. /r/dota2 would like to use "I think it's not a good
                idea",
                indicating some disagreement, although its topic isn't clear.
            </p>
            <p>
                Since Markov chains are designed to characterise conversation from any given subreddit, we would expect
                that the options available in the tree would reflect the ideosyncrasies of each subreddit. While this
                is only vaguely noticeable if we pick the most common words (as above), it is much more noticeable in
                the options for nouns. A good metric for finding nouns is to simply pick the word 'the' as the first
                node,
                which will give us many commonly used nouns. /r/unitedkingdom suggests 'tories', 'bbc', 'guardian' and
                'uk' after
                after the word 'the', all words relating directly to the UK. /r/twoxchromosomes, a subreddit intended
                for
                women's discussion suggests 'guy' and 'father' alongside some common nouns like 'fact', 'problem' and
                'reason'. None of these words particularly suggests a particular subculture, but maybe this is to be
                expected in a subreddit that doesn't share a common interest so much as a common gender.
                Finally, /r/formula one suggests words like 'nose', 'mcclaren' and 'honda' in its top 10,
                all very characteristic of the subreddit
            </p>
            <h3>Instructions:</h3>
            <ul>
                <li>Pick a subreddit from the dropdown list</li>
                <li>Press &lt;Start&gt;</li>
                <li>Click a word from the row presented</li>
                <li>Continue making branches by clicking words</li>
                <li>Right click a node to construct a sentence from the node and its parents</li>
            </ul>

        </div>
        <div class="col-md-12">
            <div class="form-group">
                <label>Subreddit</label>
                <select v-model="currentSubreddit" class="form-control">
                    <option v-for="subreddit in subreddits" v-bind:value="subreddit.id">
                        {{ subreddit.name }}
                    </option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <label>Number of Child Nodes</label>
            <input type="number" min="1" max="100" v-model="settings.numNodes" class="form-control"/>
        </div>
        <div class="col-md-6">
            <label>Node Order</label>
            <select v-model="settings.orderBy" class="form-control">
                <option value="largest">Largest</option>
                <option value="smallest">Smallest</option>
                <option value="random">Random</option>
            </select>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <label>Constructed Sentence</label>
                <input v-el:sentence type="text" readonly v-model="sentence" class="form-control"/>
            </div>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <button v-on:click="reset" class="btn btn-primary">Reset</button>
            </div>
        </div>
    </div>
    <div id="chart" style="width: 100%; height: 10000px; float: left;overflow-x: auto; overflow-y: hidden;"></div>
    <script src="static/index.js"></script>

</div>
</body>
</html>